RewriteEngine on
RewriteBase /projects/Codelab/dist/


################################################################################
### NO-TRAILING-SLASH POLICY ###################################################
################################################################################
RewriteRule ^(.*)\/(\?.*)?$ $1$2 [R=301,L]

################################################################################
### HTTPS / NO WWW #############################################################
################################################################################

# RewriteCond %{HTTP_HOST} ^www\. [OR]
# RewriteCond %{HTTPS} off
# RewriteCond %{HTTP_HOST} ^(?:www\.)?(.+)$
# RewriteRule ^ https://%1%{REQUEST_URI} [NE,L,R]

################################################################################
### DONT AFFECT IMG / JS / CSS #################################################
################################################################################

RewriteRule ^.*\.(css|svg|js|gif|jpe?g|png|eot|otf|ttf|woff|woff2|m4v)$ - [L]

################################################################################
### LOAD CODELAB ###############################################################
################################################################################

DirectoryIndex codelab/codelab.php?clQuery=frontpage
RewriteRule ^(.*)$ codelab/codelab.php?clQuery=$1 [NC,L,QSA]
